
---
layout: docs
permalink: donations
title: "Список донорам"
---


# Донорам

---

## Оглавление:
1. [Описание сайта](#описание-сайта)
2. [Структура сайта](#структура-сайта)
3. [Функционал страницы index](#функционал-страницы-index)
4. [Аудиоплейер и плейлист](#аудиоплейер-и-плейлист)
5. [Фрагмент schedule.html](#фрагмент-schedulehtml)
6. [Правила воспроизведения аудио](#правила-воспроизведения-аудио)
7. [Описание работы кнопки запуска](#описание-работы-кнопки-запуска)
8. [Технические детали и структура файлов](#технические-детали-и-структура-файлов)

---

## Описание сайта

Этот сайт предназначен для автоматического воспроизведения аудио программ в соответствии с расписанием, где каждая программа длится 59 минут 44 секунды, и перед началом каждого часа воспроизводится джингл. Интерфейс включает страницу с градиентным фоном и кнопкой для запуска аудио. После нажатия на кнопку выводится информация из файла `schedule.html`, и начинается воспроизведение плейлиста в соответствии с текущим временем.

---

## Структура сайта

- **Главная страница (`index.html`)**: На главной странице отображается градиент и кнопка для запуска программы. После нажатия кнопки происходит воспроизведение аудио и отображение содержимого файла `schedule.html`.
- **Папка `_includes`**: Содержит файл `schedule.html`, который выводится на главную страницу после нажатия кнопки.
- **Папка `assets/audio`**: Содержит файлы аудиопрограмм и джингл для воспроизведения.
- **Папка `assets/`**: Включает все стили, скрипты, а также плейлист `playlist.m3u`, который используется для воспроизведения программ.

---

## Функционал страницы index

- На странице `index.html` отображается градиентный фон и овальная кнопка.
- Кнопка выполнена с градиентным эффектом при наведении и треугольником внутри, который указывает на запуск программы.
- После нажатия на кнопку:
  - Кнопка исчезает.
  - Начинается воспроизведение текущей программы.
  - Отображается содержимое файла `schedule.html`.

---

## Аудиоплейер и плейлист

1. **Аудиоплейер**:
   - Встроенный аудиоплейер работает в фоновом режиме.
   - Аудио запускается автоматически в соответствии с расписанием программы.
   - Для управления аудиоплеером используется скрытый элемент `<audio>`.

2. **Плейлист (`playlist.m3u`)**:
   - Формат плейлиста:
     ```m3u
     #EXTM3U
     #EXTINF:3585, River Amazon - Rainforest Flora
     assets/audio/program00.mp3
     #EXTINF:15, Jingle
     assets/audio/jingle.mp3
     ```
   - Каждый час программы начинается с аудиофайла, следующего в плейлисте, после чего воспроизводится 15-секундный джингл в конце каждого часа.

---

## Фрагмент schedule.html

- Файл `schedule.html` содержит информацию о текущих программах, разбитую по часам.
- После нажатия на кнопку, содержимое `schedule.html` загружается и отображается на главной странице.
- Этот файл не содержит `head` и стили, так как он является фрагментом и интегрируется в основную страницу.

---

## Правила воспроизведения аудио

1. **Старт программы**:
   - Каждая программа начинается в 00 минут каждого часа и длится 59 минут 44 секунды.

2. **Джингл**:
   - Автоматически запускается в 59 минут 45 секунд и воспроизводится до конца часа.

3. **Проигрывание по часам**:
   - При нажатии на кнопку программа начинается с той минуты, на которой находится текущий час, и продолжается по порядку до конца дня, включая джинглы.
   - Когда все файлы плейлиста проиграны, воспроизведение начинается снова с первой программы.

---

## Описание работы кнопки запуска

1. **Внешний вид**:
   - Овальная кнопка с треугольником внутри, выполненная с градиентом.
   - При наведении на кнопку активируется градиентный эффект.

2. **Функционал**:
   - При нажатии на кнопку:
     - Кнопка исчезает.
     - Запускается текущая программа в зависимости от времени.
     - Начинается цикл воспроизведения плейлиста.
     - Отображается содержимое файла `schedule.html`.

---

## Технические детали и структура файлов

### Структура файлов:
- **`index.html`**: Главная страница сайта, содержит кнопку запуска, аудиоплеер и вывод содержимого `schedule.html`.
- **`schedule.html`**: Фрагмент, который отображает расписание программ.
- **`playlist.m3u`**: Плейлист с аудиофайлами для воспроизведения.
- **`assets/audio/`**: Аудиофайлы программ и джингл.
- **`assets/css/styles.css`**: Стили для оформления страниц и элементов интерфейса.
- **`assets/js/script.js`**: Скрипт для управления функционалом кнопки и аудиоплеера.

---

### Код главных элементов:

1. **HTML-разметка главной страницы**:
   ```html
   <div id="startButton" class="oval-button" onclick="startProgram()">
     <div class="triangle"></div>
   </div>

   <audio id="audioPlayer" controls style="display: none;"></audio>

   <div id="scheduleContainer" style="display: none;">
     {% include schedule.html %}
   </div>
   ```

2. **Скрипт для загрузки и воспроизведения программы**:
   ```javascript
   function startProgram() {
     const audioPlayer = document.getElementById('audioPlayer');
     const currentHour = new Date().getHours();

     audioPlayer.src = programs[currentHour * 2];  // Загружаем нужный файл по текущему часу
     audioPlayer.play();

     setTimeout(() => {
       audioPlayer.src = jingleFile;  // Воспроизведение джингла
       audioPlayer.play();
     }, (59 * 60 + 45) * 1000);
   }
   ```

---

## Примечания

- Все стили и скрипты должны быть минимизированы для повышения производительности сайта.
- Обязательно проверьте корректность ссылок на аудиофайлы и правильность работы плейлиста.
